<script>
import { state } from '@/store';
export default {
    props: ['mode'],
    data() {
        return {
            state,
            idleColor: '#454545',
            selectedColor: '#3198FF'
        }
    },
    methods: {
        clickHandler() {
            state.mode = this.mode;
            console.log(state.mode)
        }
    },
    computed: {
        isCurrentMode() {
            return state.mode === this.mode;
        },
        buttonColor() {
            return this.isCurrentMode ? this.selectedColor : this.idleColor
        }
    }
}

</script>

<template>
    <button @click="clickHandler" class="size-[32px] rounded-[8px] bg-white border flex justify-center items-center"
        :style="{ borderColor: buttonColor }">
        <div class="size-[20px]">
            <svg v-if="mode === 'DRAG'" :fill="buttonColor" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                viewBox="0 0 20 20" fill="none">
                <path
                    d="M6.90013 20C6.63155 20 6.37761 19.8961 6.18717 19.7102L6.17252 19.6957C6.15542 19.6788 4.57079 17.9954 3.52577 16.9738C2.48074 15.9522 0.629967 14.2833 0.612875 14.2664L0.598225 14.2543C0.210003 13.8751 -0.00242083 13.3704 2.08167e-05 12.8342C0.00246247 12.298 0.219769 11.7933 0.610434 11.4189C1.30875 10.7499 2.37331 10.6702 3.1644 11.2209L5.3741 12.2835L3.34508 5.27714C3.22544 4.86415 3.24253 4.43425 3.39636 4.03091C3.55018 3.63 3.82365 3.29429 4.18989 3.06243C4.72706 2.72189 5.35456 2.63495 5.90638 2.82092C6.45819 3.00688 6.90013 3.4561 7.11499 4.05024L8.02329 6.55959V1.90074C8.02329 0.852554 8.88519 0 9.94487 0C10.4503 0 10.9264 0.190798 11.2878 0.540998C11.6491 0.888782 11.8542 1.35732 11.8664 1.85485V1.85968L11.925 5.85678L12.7601 3.16145L12.7625 3.15179C12.9627 2.59147 13.4022 2.15916 13.9687 1.96112C14.5352 1.76307 15.1529 1.82828 15.6632 2.13742C16.0441 2.36928 16.3396 2.72431 16.4909 3.14213C16.6423 3.55996 16.6472 4.01884 16.5056 4.43908L15.4703 7.51842L16.5178 6.34465L16.5251 6.3374C16.9085 5.94614 17.365 5.7167 17.8461 5.67806C18.3295 5.63942 18.8007 5.79157 19.2134 6.1152C20.0191 6.75281 20.2096 7.56672 19.7676 8.46999L19.7554 8.49656L19.7408 8.52071C18.7202 10.0954 17.1258 12.6724 16.9133 13.3269C16.6106 14.2591 15.9123 16.725 15.9049 16.7492L15.9001 16.7661L15.0577 19.3552L15.043 19.3841C14.877 19.7295 14.5181 19.9565 14.1299 19.9589L6.90501 19.9976C6.90501 20 6.90257 20 6.90013 20Z" />
            </svg>
            <svg v-else-if="mode === 'PEN'" :fill="buttonColor" xmlns="http://www.w3.org/2000/svg" width="20"
                height="20" viewBox="0 0 20 20">
                <path
                    d="M19.7953 2.50345C19.8559 2.64056 19.9052 2.80053 19.9431 2.98334C19.981 3.16616 20 3.35659 20 3.55465C20 3.7527 19.9621 3.95075 19.8863 4.1488C19.8104 4.34685 19.6891 4.53729 19.5223 4.7201C19.3403 4.90292 19.1773 5.06288 19.0332 5.2C18.8892 5.33711 18.7641 5.45899 18.6579 5.56563C18.5366 5.68751 18.4229 5.79415 18.3167 5.88556L14.063 1.61222C14.245 1.44463 14.4611 1.24277 14.7113 1.00664C14.9615 0.770497 15.17 0.583871 15.3368 0.446759C15.5491 0.279177 15.769 0.161107 15.9965 0.092551C16.224 0.0239947 16.4477 -0.00647477 16.6675 0.00114261C16.8874 0.00875998 17.0997 0.0430381 17.3045 0.103977C17.5092 0.164916 17.6874 0.233472 17.839 0.309646C18.1575 0.477228 18.5101 0.770497 18.8968 1.18945C19.2835 1.60841 19.583 2.04641 19.7953 2.50345ZM2.07524 13.6553C2.16623 13.5639 2.37854 13.3468 2.71216 13.004C3.04579 12.6612 3.46282 12.2384 3.96325 11.7357L5.6238 10.0675L7.46632 8.21647L12.357 3.30327L16.6107 7.59947L11.72 12.5127L9.90026 14.3637C9.29367 14.9578 8.74774 15.5025 8.26247 15.9976C7.77719 16.4927 7.37533 16.9003 7.05687 17.2202C6.73841 17.5401 6.54885 17.7229 6.48819 17.7687C6.33654 17.9058 6.16215 18.0505 5.965 18.2028C5.76786 18.3552 5.56314 18.4771 5.35083 18.5685C5.13852 18.6751 4.82765 18.8046 4.4182 18.957C4.00875 19.1093 3.58034 19.2579 3.13298 19.4026C2.68562 19.5473 2.26101 19.673 1.85914 19.7796C1.45728 19.8863 1.15777 19.9548 0.96063 19.9853C0.551181 20.031 0.278215 19.9701 0.141732 19.8025C0.00524938 19.6349 -0.0326626 19.3531 0.0279965 18.957C0.058326 18.7437 0.130358 18.4352 0.244094 18.0315C0.35783 17.6277 0.479148 17.2088 0.608049 16.7746C0.736949 16.3404 0.862059 15.9405 0.983377 15.5749C1.1047 15.2092 1.20327 14.9578 1.27909 14.8207C1.37008 14.6074 1.47244 14.4132 1.58618 14.238C1.69991 14.0628 1.86293 13.8686 2.07524 13.6553Z" />
            </svg>
            <svg v-else-if="mode === 'ERASER'" :fill="buttonColor" xmlns="http://www.w3.org/2000/svg" width="22"
                height="20" viewBox="0 0 20 20">
                <path
                    d="M14.5676 1.86314L20.3156 7.32379C21.4751 8.42528 21.4751 9.52677 20.3156 10.6283L14.985 15.6924C13.8255 16.7939 12.666 16.7939 11.5066 15.6924L5.75852 10.2317C4.59905 9.13024 4.59905 8.02874 5.75852 6.92725L11.0892 1.86314C12.2486 0.761645 13.4081 0.761645 14.5676 1.86314Z" />
                <path
                    d="M12.7435 2.66694L18.7589 8.77795L10.1551 17.3334H6.74033L2.42628 12.9945L12.7435 2.66694ZM12.7435 0.222532C12.4237 0.220672 12.1066 0.282332 11.8105 0.403977C11.5144 0.525621 11.245 0.704858 11.0179 0.931409L0.712818 11.2224C0.486844 11.4494 0.307576 11.719 0.185266 12.0157C0.0629551 12.3125 0 12.6305 0 12.9518C0 13.273 0.0629551 13.5911 0.185266 13.8878C0.307576 14.1846 0.486844 14.4542 0.712818 14.6812L5.7317 19.7778H11.1516L20.4724 10.4035C20.6983 10.1765 20.8776 9.90687 20.9999 9.61012C21.1222 9.31338 21.1852 8.99529 21.1852 8.67406C21.1852 8.35283 21.1222 8.03475 20.9999 7.738C20.8776 7.44125 20.6983 7.17166 20.4724 6.94464L14.457 0.894743C13.9955 0.453584 13.3802 0.212212 12.7435 0.222532Z" />
                <path
                    d="M7.70932 17.3333H20.809C21.603 17.3333 21.9999 17.7407 21.9999 18.5556C21.9999 19.3704 21.603 19.7778 20.809 19.7778H7.70932C6.91539 19.7778 6.51843 19.3704 6.51843 18.5556C6.51843 17.7407 6.91539 17.3333 7.70932 17.3333Z" />
            </svg>
        </div>
    </button>

</template>